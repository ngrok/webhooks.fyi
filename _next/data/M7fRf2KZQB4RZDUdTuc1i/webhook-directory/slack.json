{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Slack uses outgoing webhooks to notify third-party apps of events such as messages sent, conversations started, files uploaded, and channels archived."]},{"$$mdtype":"Tag","name":"table","attributes":{},"children":[{"$$mdtype":"Tag","name":"thead","attributes":{},"children":[]},{"$$mdtype":"Tag","name":"tbody","attributes":{},"children":[{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"h2","attributes":{"id":"specifications"},"children":["Specifications"]}]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/security/hmac"},"children":["HMAC Authentication"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/security/replay-prevention"},"children":["Replay Prevention"]}]},": ✅"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ops-experience/versioning"},"children":["Forward Compatibility"]}]},": ✅"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"/ops-experience/key-rotation"},"children":["Zero Downtime Rotation"]}]},": ❌"]}]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"h2","attributes":{"id":"supported-events"},"children":["Supported Events"]}]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://api.slack.com/events?filter=Events"},"children":["Official Doc ↗"]}]}]}]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"h2","attributes":{"id":"security-headers"},"children":["Security Headers"]}]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["Signature Header"]},": ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["X-Slack-Signature"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["Hash"]},": sha256"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["Encode"]},": hex"]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["payload"]},": ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["v0:timestamp:request_body"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["Timestamp Header"]},": ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["X-Slack-Request-Timestamp"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"strong","attributes":{},"children":["Timestamp Format"]},": Unix Date"]}]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"h2","attributes":{"id":"documentation"},"children":["Documentation"]}]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://api.slack.com/authentication/verifying-requests-from-slack"},"children":["Official Doc ↗"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://api.slack.com/authentication/verifying-requests-from-slack#sdk_support"},"children":["Official SDKs ↗"]}]}]}]}]},{"$$mdtype":"Tag","name":"tr","attributes":{},"children":[{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"h2","attributes":{"id":"sd-ks-and-sample-code"},"children":["SDKs and Sample Code"]}]},{"$$mdtype":"Tag","name":"td","attributes":{},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://github.com/slackapi/bolt-js/blob/main/src/receivers/verify-request.ts"},"children":["Slack Bolt SDK - JavaScript ↗"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://github.com/slackapi/bolt-python/blob/main/slack_bolt/middleware/request_verification/async_request_verification.py"},"children":["Slack Bolt SDK - Python ↗"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java"},"children":["Slack Bolt SDK - Java ↗"]}]}]}]}]}]}]},{"$$mdtype":"Tag","name":"hr","attributes":{},"children":[]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"sample-validation"},"children":["Sample Validation"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"js"},"children":["const crypto = require('crypto')\nconst timeHeader = 'X-Slack-Request-Timestamp'\nconst sigHeader = 'X-Slack-Signature'\nconst hashAlgo = 'sha256'\nconst encode = 'hex'\nconst hmacSecret = process.env.WEBHOOK_SECRET\napp.post('/slack-webhook', (req, res) => {\n    //01: Validate replay prevention with 5 minute timeframe\n    const requestTimestamp = req.headers[timeHeader] * 1000;\n    const tolerance = Date.now() - (5 * 60 * 1000);\n    if (requestTimestamp < tolerance) {\n        res.status(403).send('Request expired')\n    }else{\n        //02: Validate signature\n        const message = `v0:${req.headers[timeHeader]}:${JSON.stringify(req.body)}`\n        const digest = \"v0=\"+\n                       crypto.createHmac(hashAlgo, hmacSecret)\n                       .update(message)\n                       .digest(encode)\n        if (request.headers[sigHeader] !== digest) {\n            res.status(401).send('Request unauthorized')\n        }else{\n            //03: Process message\n            res.json({ message: \"Success\" })\n        }\n    }\n})\n"]}],"frontmatter":{"title":"Slack Webhook Specs, Events, and Examples","pageTitle":"Slack Webhooks Specs | Examples | How to integrate","description":"Outgoing webhook specificactions for Slack including Supported Events, Example Apps, Security Specs, and Documentations."},"file":{"path":"/webhook-directory/slack.md"}}},"__N_SSG":true}